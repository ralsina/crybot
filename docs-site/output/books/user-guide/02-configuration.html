<!DOCTYPE html><html lang="en" data-theme="dark"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Crybot: 3 Configuration</title>
  <meta name="description" content="A modular personal AI assistant built in Crystal with multi-modal interactions">
  <link rel="shortcut icon" href="/assets/favicon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/assets/favicon.png">
  <link rel="canonical" href="">
  
  <link rel="alternate" type="application/rss+xml" href="/rss.xml" title="RSS Feed">
  
  
  <!-- Pico CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.colors.min.css">
  <!-- PhotoSwipe -->
  <link rel="stylesheet" href="https://unpkg.com/photoswipe@5.4.4/dist/photoswipe.css">
  <script src="https://unpkg.com/hyperscript.org@0.9.9"></script>
  <script src="https://cdn.jsdelivr.net/npm/minisearch@6.1.0/dist/umd/index.min.js"></script>
  
  <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
  <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/django.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlightjs-copy@1.0.3/dist/highlightjs-copy.min.css">
  <script src="https://unpkg.com/highlightjs-copy@1.0.3/dist/highlightjs-copy.min.js"></script>
  
  <!-- Theme styles -->
  <link rel="stylesheet" href="/css/theme.css">
  <!-- Base16 color scheme (light/dark themes) -->
  <link rel="stylesheet" href="/css/style.css">
  <!-- Custom style (loaded last for user overrides) -->
  <link rel="stylesheet" href="/css/custom.css">
  
</head>

<body>
  <!-- Header -->
  <header class="container">
    <nav>
      <ul>
        <li>
          <h1><a href="https://crybot.ralsina.me">Crybot</a></h1>
          <p>» A modular personal AI assistant built in Crystal with multi-modal interactions</p>
        </li>
      </ul>
      <ul>
        <li>
          <input type="search" id="search" class="search-input" placeholder="Search...">
        </li>
        
        <li>
          <button id="theme_toggle" aria-label="Toggle theme" class="primary">
            <svg id="sun_icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none; vertical-align: middle;"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg>
            <svg id="moon_icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: block; vertical-align: middle;"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
          </button>
          <script>
            (function() {
              const html = document.documentElement;
              const toggle = document.getElementById('theme_toggle');
              const sunIcon = document.getElementById('sun_icon');
              const moonIcon = document.getElementById('moon_icon');

              function setTheme() {
                const isLight = localStorage.getItem('isLight') === 'true';
                html.setAttribute('data-theme', isLight ? 'light' : 'dark');
                if (isLight) {
                  sunIcon.style.display = 'none';
                  moonIcon.style.display = 'block';
                } else {
                  sunIcon.style.display = 'block';
                  moonIcon.style.display = 'none';
                }
              }

              setTheme();

              toggle.addEventListener('click', function() {
                const isLight = html.getAttribute('data-theme') === 'light';
                localStorage.setItem('isLight', isLight ? 'false' : 'true');
                setTheme();
              });
            })();
          </script>
        </li>
        
      </ul>
    </nav>
  </header>
  <div id="search_results"></div>
  <!-- /Header -->

  <!-- Main -->
  <main class="container">
    <h1 class="primary">

  <nav aria-label="breadcrumb" class="breadcrumb">
    
      
      <a href="/" class="breadcrumb-collapsed">Home</a>
    
      <span class="breadcrumb-sep breadcrumb-collapsed"> » </span>
      <a href="/books/" class="breadcrumb-collapsed">Books</a>
    
      <span class="breadcrumb-sep breadcrumb-collapsed"> » </span>
      <a href="/books/user-guide/" class="breadcrumb-collapsed">Crybot User Guide</a>
    
      <span class="breadcrumb-sep breadcrumb-sep-last"> » </span>
      <a href="/books/user-guide/02-configuration.html" class="">Configuration</a>
    
  </nav>
  
</h1>


<div class="book-layout">
  <!-- Sidebar TOC -->
  <aside class="book-sidebar collapsed">
    <div class="book-sidebar-header">
      <div class="book-title">
        <a href="/books/user-guide/">Crybot User Guide</a>
      </div>
      <button class="book-sidebar-toggle" aria-label="Toggle sidebar" onclick="toggleBookSidebar()">
        <span>»</span>
      </button>
    </div>
    <nav class="book-toc">
      
<div class="toc-item toc-level-0">
<a href="/books/user-guide/00-introduction.html" class="toc-link ">1 Introduction</a>
</div>
<div class="toc-item toc-level-0">
<a href="/books/user-guide/01-installation.html" class="toc-link ">2 Installation</a>
</div>
<div class="toc-item toc-level-0">
<a href="/books/user-guide/02-configuration.html" class="toc-link active">3 Configuration</a>
</div>
<div class="toc-item toc-level-0">
<a href="/books/user-guide/03-features.html" class="toc-link ">4 Features Overview</a>
</div>
<div class="toc-item toc-level-0">
<a href="/books/user-guide/04-web-interface.html" class="toc-link ">5 Web Interface</a>
</div>
<div class="toc-item toc-level-0">
<a href="/books/user-guide/05-repl.html" class="toc-link ">6 REPL Mode</a>
</div>
<div class="toc-item toc-level-0">
<a href="/books/user-guide/06-voice.html" class="toc-link ">7 Voice Mode</a>
</div>
<div class="toc-item toc-level-0">
<a href="/books/user-guide/07-telegram.html" class="toc-link ">8 Telegram Integration</a>
</div>
<div class="toc-item toc-level-0">
<a href="/books/user-guide/08-skills.html" class="toc-link ">9 Skills System</a>
</div>
<div class="toc-item toc-level-0">
<a href="/books/user-guide/09-scheduled-tasks.html" class="toc-link ">10 Scheduled Tasks</a>
</div>
<div class="toc-item toc-level-0">
<a href="/books/user-guide/10-mcp.html" class="toc-link ">11 MCP Integration</a>
</div>
<div class="toc-item toc-level-0">
<a href="/books/user-guide/11-tools.html" class="toc-link ">12 Built-in Tools</a>
</div>
<div class="toc-item toc-level-0">
<a href="/books/user-guide/12-advanced.html" class="toc-link ">13 Advanced Topics</a>
</div>
    </nav>
  </aside>

  <!-- Main content -->
  <main class="book-content">
    <p>This chapter covers configuring Crybot with API keys and model settings.</p>

<a name="Configuration-File"></a>
<h2>Configuration File</h2>

<p>Crybot's configuration is stored in <code>~/.crybot/config.yml</code>.</p>

<a name="API-Keys"></a>
<h2>API Keys</h2>

<p>You need to configure at least one LLM provider. Edit <code>~/.crybot/config.yml</code>:</p>

<pre><code class="yaml language-yaml language-yaml" data-lang="yaml">providers:
  zhipu:
    api_key: "your_api_key_here"  # Get from https://open.bigmodel.cn/
  openai:
    api_key: "your_openai_key"    # Get from https://platform.openai.com/
  anthropic:
    api_key: "your_anthropic_key" # Get from https://console.anthropic.com/
  openrouter:
    api_key: "your_openrouter_key" # Get from https://openrouter.ai/
</code></pre>


<a name="Free-Options"></a>
<h3>Free Options</h3>

<ul>
<li><strong>Zhipu GLM</strong> - Free tier available with generous limits</li>
<li><strong>OpenRouter</strong> - Aggregates multiple providers, some with free tiers</li>
</ul>


<a name="Selecting-a-Model"></a>
<h2>Selecting a Model</h2>

<p>Set the default model in your config:</p>

<pre><code class="yaml language-yaml language-yaml" data-lang="yaml">agents:
  defaults:
    model: "gpt-4o-mini"  # Uses OpenAI
    # model: "claude-3-5-sonnet-20241022"  # Uses Anthropic
    # model: "glm-4.7-flash"  # Uses Zhipu (default if not specified)
</code></pre>


<a name="Provider-Auto-2d-Detection"></a>
<h3>Provider Auto-Detection</h3>

<p>Crybot automatically detects the provider from model name prefixes:</p>

<table>
<thead>
<tr>
<th> Model Prefix </th>
<th> Provider </th>
</tr>
</thead>
<tbody>
<tr>
<td> <code>gpt-*</code> </td>
<td> OpenAI </td>
</tr>
<tr>
<td> <code>claude-*</code> </td>
<td> Anthropic </td>
</tr>
<tr>
<td> <code>glm-*</code> </td>
<td> Zhipu </td>
</tr>
<tr>
<td> <code>deepseek-*</code>, <code>qwen-*</code> </td>
<td> OpenRouter </td>
</tr>
</tbody>
</table>


<p>You can also explicitly specify the provider:</p>

<pre><code class="yaml language-yaml language-yaml" data-lang="yaml">model: "openai/gpt-4o-mini"
model: "anthropic/claude-3-5-sonnet-20241022"
model: "openrouter/deepseek/deepseek-chat"
</code></pre>


<a name="Feature-Configuration"></a>
<h2>Feature Configuration</h2>

<p>Enable/disable features in <code>config.yml</code>:</p>

<pre><code class="yaml language-yaml language-yaml" data-lang="yaml">features:
  web: true              # Web UI at http://127.0.0.1:3000
  gateway: true          # Telegram bot
  voice: false           # Voice interaction
  repl: false            # Advanced REPL
  scheduled_tasks: true  # Automated tasks
</code></pre>


<a name="Web-Configuration"></a>
<h2>Web Configuration</h2>

<p>Configure the web UI:</p>

<pre><code class="yaml language-yaml language-yaml" data-lang="yaml">web:
  enabled: true
  host: "127.0.0.1"
  port: 3000
  # auth_token: "your-secret-token"  # Optional authentication
</code></pre>


<a name="Telegram-Configuration"></a>
<h2>Telegram Configuration</h2>

<p>Configure Telegram bot:</p>

<pre><code class="yaml language-yaml language-yaml" data-lang="yaml">channels:
  telegram:
    enabled: true
    token: "YOUR_BOT_TOKEN"     # Get from @BotFather on Telegram
    allow_from: []             # Empty = allow all users
</code></pre>


<a name="Voice-Configuration"></a>
<h2>Voice Configuration</h2>

<p>Configure voice interaction (optional):</p>

<pre><code class="yaml language-yaml language-yaml" data-lang="yaml">voice:
  wake_word: "crybot"         # Word to trigger listening
  whisper_stream_path: "/usr/bin/whisper-stream"
  model_path: "/path/to/ggml-base.en.bin"
  language: "en"
  threads: 4
  piper_model: "/path/to/voice.onnx"
  piper_path: "/usr/bin/piper-tts"
</code></pre>


<a name="MCP-Configuration"></a>
<h2>MCP Configuration</h2>

<p>Configure Model Context Protocol servers:</p>

<pre><code class="yaml language-yaml language-yaml" data-lang="yaml">mcp:
  servers:
    - name: playwright
      command: npx @playwright/mcp@latest
    - name: filesystem
      command: npx -y @modelcontextprotocol/server-filesystem /allowed/path
</code></pre>


<a name="Reloading-Configuration"></a>
<h2>Reloading Configuration</h2>

<p>Crybot automatically reloads configuration when <code>~/.crybot/config.yml</code> changes. No restart needed!</p>

<a name="Next-Steps"></a>
<h2>Next Steps</h2>

<p>With Crybot configured, learn about the <a href="03-features.md">available features</a>.</p>
  </main>
</div>

<script>
function toggleBookSidebar() {
  const sidebar = document.querySelector('.book-sidebar');
  const toggle = document.querySelector('.book-sidebar-toggle span');

  if (sidebar.classList.contains('collapsed')) {
    sidebar.classList.remove('collapsed');
    toggle.textContent = '«';
  } else {
    sidebar.classList.add('collapsed');
    toggle.textContent = '»';
  }
}
</script>

<!-- Navigation buttons -->
<nav class="chapter-nav">
  
  <a href="/books/user-guide/01-installation.html" class="nav-prev">
    ← Installation
  </a>
  
  
  <a href="/books/user-guide/03-features.html" class="nav-next">
    Features Overview →
  </a>
  
</nav>
  </main>
  <!-- /Main -->

  <!-- Footer -->
  <footer class="container">
    <small>Built with Crystal • <a href="https://github.com/ralsina/crybot">Source</a></small>
  </footer>
  <!-- /Footer -->

  <!-- Theme switcher -->
  <!-- <script src="/js/theme-switcher.js"></script> -->
  <!-- PhotoSwipe -->
  <script type="module">
    import PhotoSwipeLightbox from 'https://unpkg.com/photoswipe@5.4.4/dist/photoswipe-lightbox.esm.js';
    import PhotoSwipe from 'https://unpkg.com/photoswipe@5.4.4/dist/photoswipe.esm.js';

    const lightbox = new PhotoSwipeLightbox({
      gallery: '.gallery',
      children: 'a',
      pswpModule: PhotoSwipe,
      bgOpacity: 0.9,
      padding: { top: 50, bottom: 50, left: 50, right: 50 },
    });
    lightbox.init();
  </script>
  <script>
    
    hljs.highlightAll();
    hljs.addPlugin(new CopyButtonPlugin());
    
  </script>
  <script src="/search.js"></script>


</body></html>